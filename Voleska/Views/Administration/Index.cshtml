@model IEnumerable<Voleska.Areas.Identity.Data.ApplicationRole>

@{
    ViewData["Title"] = "Vloge";
}


<nav aria-label="breadcrumb" class="">
    <ol class="breadcrumb bg-white d-flex justify-content-center">
        <li class="breadcrumb-item"><a asp-area="" asp-controller="Home" asp-action="Index" asp-route-izbira="domov" class="customColor">Domov</a></li>
        <li class="breadcrumb-item"><a asp-area="" asp-controller="Uporabniki" asp-action="Index" class="customColor">Uporabniki</a></li>
        <li class="breadcrumb-item active">Vloge</li>
    </ol>
</nav>

@{
    var izklopi = "";
    var editColor = "";
    var deleteColor = "";

    <h1 class="text-center">Seznam vlog</h1>
    <hr />
    <div class="d-flex">
        <a class="nav-link customColor ml-0 pl-0" asp-area="" asp-controller="Administration" asp-action="CreateRole"><i class="far fa-plus-square fa-lf mr-2"></i>Ustvari novo vlogo</a>
    </div>
    @if (Model.Any())
    {
        <div class="mt-3 table-responsive text-nowrap mb-4 z-depth-1 rounded">

            <table class="table table-striped table-hover m-0">
                <thead class="black text-white">
                    <tr>
                        <th>
                            @Html.DisplayName("Ime vloge")
                        </th>
                        <th>
                            @Html.DisplayName("Normalizirana oblika")
                        </th>
                        <th>
                            @Html.DisplayName("ID")
                        </th>
                        <th>

                        </th>
                    </tr>
                </thead>
                <tbody>



                    @foreach (var vloga in Model)
                    {

                        <tr>
                            <td>
                                @Html.DisplayFor(modelItem => vloga.Name)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => vloga.NormalizedName)
                            </td>
                            <td>
                                @Html.DisplayFor(modelItem => vloga.Id)
                            </td>
                            <td class="align-middle text-center">

                                @if (vloga.Name == "ADMINISTRATOR" || vloga.Name == "UPORABNIK")
                                {
                                    izklopi = "disabled";
                                    editColor = "light";
                                    deleteColor = "light";
                                }
                                else
                                {
                                    izklopi = "";
                                    editColor = "success";
                                    deleteColor = "danger";
                                }
                                
                                <a class="izbira btn-sm btn-outline-@editColor  @izklopi mr-2 " asp-action="Edit" asp-route-id="@vloga.Id" data-placement="left" data-toggle="tooltip" title="Uredi"><i class="fa fa-edit"></i></a>
                                <a class="izbira btn-sm btn-outline-@deleteColor  @izklopi mr-2 " asp-action="Delete" asp-route-id="@vloga.Id" data-placement="right" data-toggle="tooltip" title="Izbriši"><i class="fa fa-trash"></i></a>


                            </td>
                        </tr>

                    }



                </tbody>
            </table>
        </div>
    }
    else
    {
        <div>Ni določenih vlog!</div>
    }


    <div class="d-flex">
        
        <a class="nav-link customColor ml-0 pl-0" asp-area="" asp-controller="Uporabniki" asp-action="Index">Nazaj</a>
    </div>

}

@section Scripts {
<script>
    $(document).ready(function () {
        $(function () {

            $(".izbira").tooltip({
                delay: { show: 0, hide: 0 },
                trigger: 'hover'
            });

        })

    });
</script>
}